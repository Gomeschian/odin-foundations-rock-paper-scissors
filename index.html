<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper...</title>
</head>
<body>
    <button id="rock">Rock?</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors!</button>
    <div class="playByPlay">
        <p class="roundResult"></p>
    </div>
    
    <script>
        let playerWins=0;
        let computerWins=0;
        const rock = document.querySelector("#rock");
        const paper = document.querySelector("#paper");
        const scissors = document.querySelector("#scissors");
        rock.addEventListener("click",playGame);
        paper.addEventListener("click",playGame);
        scissors.addEventListener("click",playGame);
        const playByPlay = document.querySelector(".playByPlay");
        const roundResult = document.querySelector(".roundResult");
        function computerPlay()
        {
            let randomNumber = Math.random()*12;
            let computerThrows = "";
            if (randomNumber <=3)
            {
                computerThrows = "ROCK";
            } 
            else if (randomNumber <=7)
            {
                computerThrows = "PAPER";
            } 
            else computerThrows = "SCISSORS";
            return computerThrows;
        }

        function playRound(e = event, computerSelection = computerPlay())
        {
            playerSelection = e.target.getAttribute("id").toUpperCase();
            if  (playerSelection != "ROCK" && playerSelection != "PAPER" && playerSelection != "SCISSORS") 
                {roundResult.textContent = "Invalid entry"}
            else if (playerSelection === computerSelection)
                {roundResult.textContent = `${playerSelection} ties with ${computerSelection}!`} 
            else if (playerSelection === "ROCK") 
            {
                if (computerSelection === "PAPER")
                {
                    computerWins++;
                    roundResult.textContent = `You Lose! ${computerSelection} beats ${playerSelection}!`
                }
                else playerWins++;
                roundResult.textContent = `You Win! ${playerSelection} beats ${computerSelection}!`
                
            }
            else if (playerSelection === "PAPER") 
            {
                if (computerSelection === "SCISSORS")
                {
                    computerWins++;
                    roundResult.textContent = `You Lose! ${computerSelection} beats ${playerSelection}!`
                }
                else playerWins++;
                roundResult.textContent = `You Win! ${playerSelection} beats ${computerSelection}!`
                
            }
            else if (playerSelection === "SCISSORS") 
            {
                if (computerSelection === "ROCK")
                {
                    computerWins++;
                    roundResult.textContent = `You Lose! ${computerSelection} beats ${playerSelection}!`
                }
               else playerWins++;
                roundResult.textContent = `You Win! ${playerSelection} beats ${computerSelection}!`
            }
        }
        function playGame(){
            playRound();
            playByPlay.textContent = `Player Score: ${playerWins} Computer Score: ${computerWins}`;
            if (playerWins === 5 || computerWins === 5)
            {
                if (playerWins > computerWins)
                {playByPlay.textContent += " The PLAYER wins the game!"}
                else if (playerWins === computerWins)
                {playByPlay.textContent += " It's a tie."}
                else playByPlay.textContent += " The COMPUTER wins the game!"; 
                playerWins = 0;
                computerWins = 0;
            }
        }
       
   
    </script>
</body>
</html>